@startuml SequenceDiagram
title Déroulement d'une partie

actor "Utilisateur" as U
participant "Jeu" as J
participant "Menu" as M
participant "In-the-Game" as ING
participant "Arme" as A
participant "Ennemi" as E

U -> J : Lance le jeu
J -> M : Affiche menu principal

loop Boucle de jeu
    U -> M : Clic "Jouer"
    M -> J : Passe à l'écran de jeu
    J -> ING : Initialise partie
    
    loop Pendant la partie
        ING -> E : Met à jour ennemis
        E -> ING : Tire projectiles
        ING -> A : Met à jour arme
        A -> ING : Tire automatiquement
        ING -> ING : Gère collisions
        
        alt Appui sur ESC
            U -> ING : Pause/Quitte
            ING -> M : Retour au menu
            M -> ING : Menu
        end
    end
    
    alt Fermeture fenêtre
        U -> J : Quitte
        J -> J : Arrêt jeu
    end
end
@enduml